function waitForElmClass(selector, className){return new Promise(resolve=>{if (document.querySelector(selector).classList.contains(className)){return resolve(document.querySelector(selector));}const deekey=new MutationObserver(mutations=>{if (document.querySelector(selector)){resolve(document.querySelector(selector)); deekey.disconnect();}}); deekey.observe(document.body,{attributes: true, attributeFilter: ['class']});});}document.addEventListener('DOMContentLoaded', ()=>{waitForElmClass('.t-body', 't706__cartwin').then(item=>{const popUpCartwin=document.querySelector('.t706__cartwin'); const nameInputCartWrapper=popUpCartwin.querySelector('.t-input-group_nm'); const nameInputCartValue=popUpCartwin.querySelector('input[name="Name"]'); const inputErrorCartMessage=nameInputCartWrapper.querySelector('.t-input-error'); submitCartBtnForm=popUpCartwin.querySelector('button[type="submit"]'); nameInputCartValue.addEventListener('change', ()=>{if(nameInputCartValue.value.split(' ').filter(item=> item !='').length >=2){nameInputCartWrapper.classList.remove('js-error-control-box'); inputErrorCartMessage.innerHTML=''; submitCartBtnForm.setAttribute('type', 'submit');}else{nameInputCartWrapper.classList.add('js-error-control-box'); inputErrorCartMessage.textContent='Пожалуйста, укажите Ваши Имя и Фамилию'; submitCartBtnForm.setAttribute('type', 'button');}})}); let submitBtnForm; const allPopUpBtns=document.querySelectorAll('.show-popup .tn-atom'); allPopUpBtns.forEach(btn=>{btn.addEventListener('click', ()=>{const popUp=document.querySelector(`[data-tooltip-hook="${btn.getAttribute('href')}"]`); const nameInputWrapper=popUp.querySelector('.t-input-group_nm'); const nameInputValue=nameInputWrapper.querySelector('input[name="Name"]'); const inputErrorMessage=nameInputWrapper.querySelector('.t-input-error'); submitBtnForm=popUp.querySelector('button[type="submit"]'); nameInputValue.addEventListener('change', ()=>{if(nameInputValue.value.split(' ').filter(item=> item !='').length >=2){nameInputWrapper.classList.remove('js-error-control-box'); inputErrorMessage.innerHTML=''; submitBtnForm.setAttribute('type', 'submit');}else{nameInputWrapper.classList.add('js-error-control-box'); inputErrorMessage.textContent='Пожалуйста, укажите Ваши Имя и Фамилию'; submitBtnForm.setAttribute('type', 'button');}});})});})
